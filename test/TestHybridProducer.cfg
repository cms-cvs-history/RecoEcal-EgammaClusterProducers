process HybridProcess = 
{
  source = PoolSource 
  { 
    untracked vstring fileNames = {"file:electron10GeV_detsim_ecalRecHits.root"}
    untracked int32 maxEvents = -1
    untracked uint32 debugVebosity = 10
    untracked bool   debugFlag     = true
  }

  # for the geometry:
  es_source = XMLIdealGeometryESSource 
  {
    FileInPath GeometryConfiguration = "SimG4CMS/Calo/test/data/testConfiguration.xml"
    string rootNodeName = ""
  }
  es_module = EcalBarrelGeometryEP {}
  es_module = EcalEndcapGeometryEP {}
  es_module = HcalHardcodeGeometryEP {}  
  es_module = CaloTowerHardcodeGeometryEP {}  
  es_module = CaloGeometryBuilder {}

  # cluster producer
  module clusterproducer = HybridClusterProducer
  {
    double HybridBarrelSeedThr = 2
    double HybridEndcapSeedThr = 2 
    int32 step = 14
    double ethresh = .5
    double ewing = 1.0
    double eseed = 1.0

    string basicclusterCollection = "HybridBasicClusterCollection"
    string superclusterCollection = "HybridSuperClusterCollection"
    string ecalhitproducer = "ecalrechit"
    string ecalhitcollection = "EcalRecHitsEB"
    bool coretools_logweight = true
    double coretools_x0 =0.89
    double coretools_t0 = 6.2
    double coretools_w0=4.0
    string clustershapecollection = "HybridClusterShapeCollection"

  }

  module out = PoolOutputModule {
    untracked string fileName = 'ecalclusters.root'
  }

  sequence s1 = { clusterproducer }

  path p = { s1 }
  endpath e = {out}

}

