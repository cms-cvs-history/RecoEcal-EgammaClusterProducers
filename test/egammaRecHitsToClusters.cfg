#
#  run on collection of ecal rechits to make super clusters and store them
#  in the output collection
#
#  Author: David Futyan & Shahram Rahatlou
#  $Id: egammaRecHitsToClusters.cfg,v 1.20 2007/05/17 17:12:35 futyand Exp $
#
process eg =
{

  # initialize  MessageLogger
  include "FWCore/MessageLogger/data/MessageLogger.cfi"

  # input module. assume root file contains EcalRecHits
  source = PoolSource
  {
    # Number of events program should run
    #untracked vstring fileNames = {'file:egamma_rechits.root'}
    untracked vstring fileNames = {'/store/mc/2006/12/26/mc-physval-120-DiEle-Ene50/0000/10BD4897-129A-DB11-8E7B-003048520E15.root'}
  }

  untracked PSet maxEvents = {untracked int32 input = 100}

  # all clustering in one sequence
  include "RecoEcal/EgammaClusterProducers/data/ecalClusteringSequence.cff"

  # create path with all clustering algos
  path p = { ecalClusteringSequence }


  # output module so store ony (super)clusters and MC truth
  module o2 = PoolOutputModule
  {
     untracked string fileName = "egamma_clusters.root"
     untracked vstring outputCommands = {
       "drop *",
       "keep edmHepMCProduct_*_*_*",
       "keep *_islandBasicClusters_*_*",
       "keep *_islandSuperClusters_*_*",
       "keep *_hybridSuperClusters_*_*",
       "keep *_correctedIslandEndcapSuperClusters_*_*",
       "keep *_correctedIslandBarrelSuperClusters_*_*",
       "keep *_correctedHybridSuperClusters_*_*",
       "keep *_correctedEndcapSuperClustersWithPreshower_*_*",
       "keep *_piZeroDiscriminators_*_*"
     }
  }

  # print event number
  module counter = AsciiOutputModule {}

  endpath outpath = { counter, o2 }
}

