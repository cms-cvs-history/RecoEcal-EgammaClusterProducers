process myprocess = 
{

  source = PoolSource 
  {
    # Number of events program should run
    untracked vstring fileNames = {'file:electron10GeV_detsim_ecalRecHits.root'}
    untracked int32 maxEvents = 10
     untracked uint32 debugVebosity = 10
     untracked bool   debugFlag     = true

  }


  # reduce rechits by vutting on the noise level
  module rechitFilter = RecHitFilter {
    double noiseThreshold = 0.06
    string hitCollection = "EcalRecHitsEB"
    string hitProducer = "ecalrechit"
    string reducedHitCollection = "FilteredEcalRecHitCollection"

  }


  path p = { rechitFilter }

  module o2 = PoolOutputModule 
  {
     untracked string fileName = "electron10GeV_detsim_ecalRecHits-filtered.root"
     untracked vstring outputCommands = 
     {
       "keep *"
     }
  }

  endpath outpath = { o2 }
}

