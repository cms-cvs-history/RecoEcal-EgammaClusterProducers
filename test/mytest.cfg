process myprocess = 
{

  source = PoolSource 
  {
    # Number of events program should run
    untracked vstring fileNames = {'file:electron10GeV_detsim_ecalRecHits.root'}
    untracked int32 maxEvents = 1
  }

  # for the geometry:
  es_source = XMLIdealGeometryESSource 
  {
    FileInPath GeometryConfiguration = "SimG4CMS/Calo/test/data/testConfiguration.xml"
    string rootNodeName = ""
  }
  es_module = EcalBarrelGeometryEP {}
  es_module = EcalEndcapGeometryEP {}
  es_module = HcalHardcodeGeometryEP {}  
  es_module = CaloTowerHardcodeGeometryEP {}  
  es_module = CaloGeometryBuilder {}


  # cluster producer
  module clusterproducer = IslandClusterProducer
  {
    string hitCollection = "EcalRecHitsEB"
    string hitProducer = "ecalrechit"
    string clusterCollection = "clusterCollection"
    double IslandBarrelSeedThr = 2
    double IslandEndcapSeedThr = 2
  }

  # supercluster producer
  module superclusterproducer = SuperClusterProducer
  {
    string superclusterCollection = "superclusterCollection"
  }

  sequence s1 = { clusterproducer&superclusterproducer }

  path p = { s1 }

  module o2 = PoolOutputModule 
  { 
     untracked string fileName = "ele10GeV_clusterproducer_superclusterproducer.root" 
     untracked vstring outputCommands = 
     {
       "keep *"
     }
  }
 
  endpath outpath = { o2 }
}

